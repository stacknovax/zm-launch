# ZM Launch

A privacy-first meme token launchpad built on Zama FHEVM. Users can create ERC7984-based confidential tokens, free-mint them, and decrypt balances when they choose.

## Project Overview

ZM Launch focuses on one thing: making confidential meme tokens easy to create and easy to use while keeping balances private by default. The system combines a factory contract that deploys new ERC7984 tokens with a React frontend that lists all created tokens, supports free minting, and lets users decrypt balances on demand.

## Problems This Project Solves

- **Balance privacy**: Typical ERC20 balances are public. ZM Launch uses encrypted balances so holdings are private on-chain.
- **Low-friction token creation**: Creating a meme token should not require custom deployment steps or bespoke tooling.
- **Confidential minting UX**: Users need a clean way to mint, view, and decrypt balances without exposing on-chain data.
- **Consistent deployment workflow**: Local testing, task execution, and Sepolia deployment are standardized.

## Core Advantages

- **FHE-native privacy**: Balances and minting flows rely on FHEVM-compatible encrypted types.
- **Self-serve launches**: A factory contract deploys new tokens on demand with a simple input set.
- **Free minting**: Users can mint tokens without paying a token price, keeping onboarding simple.
- **Explicit decrypt flow**: Users opt-in to decrypt and view balances when they want to reveal them.
- **Separation of concerns**: Contracts, tasks, deployment, and frontend are structured for clarity.
- **No frontend envs**: The frontend avoids runtime environment variables for deterministic builds.

## Feature Breakdown

- **Token creation**: Users input name, symbol, and total supply (default 100,000,000).
- **ERC7984 tokens**: Each token is a confidential ERC7984 contract based on `ConfidentialMeme.sol`.
- **Factory deployment**: `ConfidentialMemeFactory.sol` deploys new tokens and tracks them.
- **Token listing**: The frontend lists every created token for easy discovery.
- **Free mint**: Users can mint without payment from the UI.
- **Encrypted balances**: Balances are stored and retrieved in encrypted form.
- **User-driven decryption**: Users can decrypt their balances explicitly in the UI.

## User Journey

1. Connect a wallet in the frontend.
2. Enter token name, symbol, and total supply (default 100,000,000).
3. Confirm the transaction to create the confidential token.
4. See the new token appear in the list of all created tokens.
5. Free-mint tokens to your address.
6. View encrypted balances and decrypt them when needed.

## Tech Stack

- **Smart contracts**: Solidity + Hardhat + `@fhevm/solidity`
- **Confidential tokens**: OpenZeppelin `ERC7984`
- **Frontend**: React + Vite
- **Wallet connection**: RainbowKit + wagmi
- **On-chain read**: viem
- **On-chain write**: ethers
- **Relayer integration**: `@zama-fhe/relayer-sdk`

## Repository Layout

```
contracts/               Confidential token and factory contracts
deploy/                  Hardhat deploy scripts
deployments/             Deployment artifacts (including Sepolia ABI JSON)
tasks/                   Hardhat tasks
test/                    Hardhat tests
home/                    React frontend (Vite)
```

## Prerequisites

- Node.js 20+
- npm 7+
- A wallet funded on Sepolia for deployment and testing

## Setup

1. Install root dependencies:

   ```bash
   npm install
   ```

2. Install frontend dependencies:

   ```bash
   cd home
   npm install
   ```

## Environment Configuration (Root)

Create a `.env` file in the repository root with:

```
INFURA_API_KEY=your_infura_key
PRIVATE_KEY=your_deployer_private_key
# Optional
ETHERSCAN_API_KEY=your_etherscan_key
```

Notes:
- `PRIVATE_KEY` must be used for deployment. Do not use `MNEMONIC`.
- The contracts load environment variables via `dotenv` in Hardhat config.

## Build and Test

From the repository root:

```bash
npm run compile
npm run test
```

## Local Development (Contracts Only)

Start a local node and deploy contracts locally:

```bash
npm run chain
npm run deploy:localhost
```

The frontend intentionally targets public networks (no localhost usage).

## Deploy to Sepolia

After tasks and tests pass:

```bash
npm run deploy:sepolia
npm run test:sepolia
```

Optional verification:

```bash
npm run verify:sepolia <CONTRACT_ADDRESS>
```

## Frontend Usage

From `home/`:

```bash
npm run dev
```

Then:
- Connect a wallet on Sepolia.
- Create tokens, mint them, and decrypt balances from the UI.

## ABI Sync Requirement

The frontend must use the ABI generated by contract deployments. After deployment to Sepolia, copy the ABI from:

- `deployments/sepolia/ConfidentialMeme.json`
- `deployments/sepolia/ConfidentialMemeFactory.json`

Paste those ABI arrays into the frontend files:

- `home/src/abi/confidentialMemeAbi.ts`
- `home/src/abi/confidentialMemeFactoryAbi.ts`

Do not use JSON files in the frontend.

## Security and Privacy Notes

- Encrypted balances are stored on-chain; plaintext values are never published.
- Decryption is a user-initiated action and should be treated as sensitive.
- View functions accept explicit addresses rather than relying on `msg.sender`.
- The frontend avoids local storage and environment variables to keep data handling explicit.

## Future Roadmap

- **Token metadata**: Optional icons and descriptions stored off-chain with integrity hashes.
- **Batch minting**: Allow a single transaction to mint to multiple recipients.
- **Confidential transfers**: Extend UI to cover private transfers beyond minting.
- **Governance hooks**: Add configurable owner or community controls to factory rules.
- **Analytics (privacy-first)**: Aggregate token activity without exposing balances.
- **Relayer UX**: Improve status tracking and error messaging for decrypt operations.
- **Multi-network expansion**: Add additional testnets once FHEVM support is available.
- **Audit readiness**: Formalize security reviews and add invariant-style tests.

## License

BSD-3-Clause-Clear. See `LICENSE`.
